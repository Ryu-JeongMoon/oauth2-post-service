<!DOCTYPE html>
<html lang='en'
      xmlns:th='http://www.thymeleaf.org'
      xmlns:layout='http://www.ultraq.net.nz/thymeleaf/layout'
      layout:decorate='~{layout}'>

<th:block layout:fragment='contentFragment'>
  <div class='container'>
    <form class='row g-3' th:object='${memberReadResponse}'>
      <div class='col-12'>
        <label class='form-label' for='id'>ID</label>
        <input class='form-control' id='id' readonly th:field='*{id}' th:id='id'>
      </div>
      <div class='col-12'>
        <label class='form-label' for='email'>Email</label>
        <input class='form-control' id='email' readonly th:field='*{email}' th:id='email'>
      </div>
      <div class='col-12'>
        <label class='form-label' for='nickname'>Nickname</label>
        <input class='form-control' id='nickname' placeholder='1234 Main St' readonly th:field='*{nickname}'
               th:id='nickname'>
      </div>
      <div class='col-12'>
        <label class='form-label' for='role'>Role</label>
        <input class='form-control' id='role' readonly th:field='*{role}' th:id='role' type='text'>
      </div>
      <div class='col-12'>
        <label class='form-label' for='status'>Status</label>
        <input class='form-control' id='status' readonly th:field='*{status}' th:id='status'>
      </div>
      <div class='col-12'>
        <label class='form-label' for='auth-provider'>Auth-Provider</label>
        <input class='form-control' id='auth-provider' readonly th:field='*{latestAuthProvider}' th:id='auth-provider'>
      </div>
    </form>
    <div class='col-12 mt-4' style='text-align: center;'>
      <button class='btn btn-outline-primary' th:onclick='moveToEditPage([[${memberReadResponse.id}]])'>수정</button>
      <button class='btn btn-outline-danger'
              th:if='${memberReadResponse.role eq "ADMIN"}'
              th:onclick='requestDeleteByAdmin()'>삭제
      </button>
      <button class='btn btn-outline-danger'
              th:if='${memberReadResponse.role ne "ADMIN" and memberReadResponse.email eq #authentication.name}'
              th:onclick='requestDeleteByOwner()'>삭제
      </button>
    </div>
  </div>
  <th:block layout:fragment='customScriptFragment'>
    <script th:src='@{/js/member-api.js}' type='text/javascript'></script>
  </th:block>
</th:block>
</html>